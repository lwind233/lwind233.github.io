---
title: 大模型应用开发入门（三）RAG引入
date: 2026-01-14T17:10:00
tags:
  - agent
  - rag
  - springai
categories:
  - 大模型应用开发
---
RAG的基本流程

-  文档切割与文档向量化
- 计算问题与文档的相似度
- 返回文档块

主要实现优化点在于如何进行文档切割

## 文档切割

由于实际的文档格式繁多且复杂，导致RAG的文档切割策略多种多样，不存在一个可以完全适配所有文档格式的切分策略。有时候会使用多个策略相结合的方式来提高文档的查询准确率，减少幻觉

- 朴素分块
- 结构分块
- 语义分块
- 智能体分块

### 朴素分块
 
朴素分块方法主要有固定长度分块以及按分隔符分块等。

固定分块可能会导致上下文断裂，为了解决这个问题，可以引入重叠（overleap）。
按分隔符分块包括按句分块、按段分块以及按页分块等。

### 结构分块
比如markdown文档这种结构区分很明显的文档，可以按各个标题进行分割。
或者json这种格式的文档，也可以切出各个部分的内容。

### 语义分块
计算各个部分的语义相似度，当两个块之间的余弦相似度过低时分为两块

### 智能体分块
让大模型判断文档到哪个部分分块
感觉有点扯，太消耗资源了

## 相似度计算

## 进阶

### 重排序

### 多召回
