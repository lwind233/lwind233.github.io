---
title: 347 前k个高频元素
date: 2026-01-15T19:37:00
tags:
  - 堆
  - 哈希表
  - 栈与队列
  - 数组
categories:
  - 题解
  - 代码随想录
---
利用一个哈希表统计各个数字出现的频数，然后维护一个大小为k的小根堆，将哈希表中所有的键往里面存一遍，最后将小根堆里的元素弹出到结果数组里。

真幽默，我想半天把时间复杂度nlogk当成nlogn了，答案想出来了还觉得不对

```java
class Solution {
    class Item{
        int val;
        int feq;
        Item(int val,int feq){
            this.val=val;
            this.feq=feq;
        }
    }


    public int[] topKFrequent(int[] nums, int k) {
        Map<Integer,Integer> map = new HashMap<>();
        PriorityQueue<Item> minHeap = new PriorityQueue<>(1,(a,b)->(a.feq-b.feq));

        for(int i=0;i<=nums.length-1;i++){
            map.put(nums[i],map.getOrDefault(nums[i],0)+1);
        }

        for(Integer key:map.keySet()){
            if(minHeap.size()<k){
                minHeap.offer(new Item(key,map.get(key)));
            }else{
                minHeap.offer(new Item(key,map.get(key)));
                minHeap.poll();
            }
        }

        int[] result = new int[k];
        for(int i=0;i<=k-1;i++){
            result[i] = minHeap.poll().val;
        }
        return result;
    }
}
```
