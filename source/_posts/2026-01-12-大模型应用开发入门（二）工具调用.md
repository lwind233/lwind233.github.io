---
title: 大模型应用开发入门（二）工具调用
date: 2026-01-13T10:46:00
tags:
  - agent
  - springai
  - java
categories:
  - 大模型应用开发
---
## 工具注册

通过@Tool注解就可以轻松的将某个方法注册为工具类
```java
    @Tool(name = "getDate", description = "获取当前的日期")
    public String getDate() {
        return LocalDateTime.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
    }
```
Spring AI 将自动为 @Tool 注解方法的输入参数生成 JSON Schema。该 Schema 供模型理解如何调用工具及准备工具请求。

## 工具传入

最终使用的工具是ToolCallBack的实现类，经过注解的工具需要转换为ToolCallBack才可以被调用。

可利用MethodToolCallbackProvider类，解析多个工具类中注解了Tool的方法，将其转换为ToolCallBack数组
```java
ToolCallback[] toolCallbacks = MethodToolCallbackProvider.builder()
        .toolObjects(cityTool, dateTool, weatherTool)
        .build()
        .getToolCallbacks();
```

然后在chatClient调用时，将其传入.toolCallbacks方法即可

## 工具解析与调用

springai内部自行会进行工具解析与调用，也可以手动关闭后自行进行解析与调用
