---
title: 142 环形链表2
tags:
  - 链表
  - 双指针
categories:
  - 题解
  - 代码随想录
abbrlink: 8483f257
date: 2026-01-06 20:26:00
---
经典算法，Floyd判圈算法

先搞一个快指针，一个慢指针，步长分别为2和1

*  步长不同的两个指针必然相遇，且两个指针相遇时，一定是在环上
*  相遇点和起点等速的指针将在入口相遇

为啥呢，第一点不太用证明，想想大概就能想明白，主要是第二点

相遇点和起点的等速指针为什么会相遇？
假设相遇时慢指针走了s，则快指针走了2s，两者到达点a
那么让快指针重置回起点，两者等速走s。此时慢指针走了2s，也就是回到了点a，而快指针走了s，同样到达了点a。这样说明它们肯定会相遇，但点a未必是两个等速指针的初次相遇点。

而且两者的相遇点肯定是在环上，因为慢指针不可能脱离环。

但二者又是等速指针，还能在环上相遇，说明二者在点a之前就已经相遇了，也就是说当快指针刚进入环时就和慢指针相遇了，不然不可能前面还不相遇一到点a两个等速指针就相遇了。

因此，两个等速指针首次相遇的位置就是环的入口。

```java
public class Solution {
    public ListNode detectCycle(ListNode head) {
        ListNode tHead = new ListNode();
        tHead.next = head;
        ListNode slow=tHead,fast=tHead;
        while(true){
            slow = slow.next;
            fast = fast.next;
            if(fast==null) return null;
            fast = fast.next;
            if(fast==null) return null;
            if(slow==fast) break;
        }

        fast = tHead;
        while(true){
            slow = slow.next;
            fast = fast.next;
            if(slow==fast) return slow;
        }
    }
}
```

快指针一定可以追上慢指针，那样直接算两个指针的路程差就可以找出入口了，那样也可以做，不过感觉还是这个方法更容易理解
